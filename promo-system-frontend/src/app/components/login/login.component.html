<div class="login-wrap">
    <mat-card class="login-card mat-elevation-z4">
        <mat-card-header>
            <mat-card-title>Sign in</mat-card-title>
            <mat-card-subtitle>Authenticate via Keycloak</mat-card-subtitle>
        </mat-card-header>

        <mat-card-content>
            <p *ngIf="!loggedIn; else already" class="login-hint">
                Click the button below to sign in. You’ll be redirected to Keycloak and
                returned to the app.
            </p>

            <ng-template #already>
                <p>You’re signed in as <b>{{ username }}</b>.</p>
            </ng-template>
        </mat-card-content>

        <mat-card-actions align="end">
            <button
                    *ngIf="!loggedIn"
                    mat-raised-button
                    color="primary"
                    (click)="login()"
                    [disabled]="btnBusy">
                {{ btnBusy ? 'Redirecting…' : 'Login' }}
            </button>

            <a *ngIf="loggedIn" mat-stroked-button color="primary" routerLink="/promos">
                Go to Promos
            </a>
        </mat-card-actions>
    </mat-card>
</div>
